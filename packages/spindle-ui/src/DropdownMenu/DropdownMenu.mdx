import { Meta, Story, Source } from '@storybook/addon-docs/blocks';
import * as DropdownMenuStories from './DropdownMenu.stories';

<Meta of={DropdownMenuStories} />

# DropdownMenu

<Source
  language='javascript'
  code={`
import { DropdownMenu } from '@openameba/spindle-ui';
import '@openameba/spindle-ui/DropdownMenu/DropdownMenu.css';
  `}
/>

<Source
  language='css'
  code={`@import './node_modules/@openameba/spindle-ui/DropdownMenu/DropdownMenu.css'`}
/>

<Source
  language='html'
  code={`<link rel="stylesheet" href="https://unpkg.com/@openameba/spindle-ui/DropdownMenu/DropdownMenu.css">`}
/>

## 指定できるプロパティ
### DropdownMenu.List
- `open`(必須): DropdownMenuの開閉状態です。DropdownMenuは`open`プロパティの値を見て開閉を行うため、`onClick`や`onClose`内で`open`プロパティを変更してください。
- `triggerRef`（必須）: Triggerボタンのrefを指定してください。
- `onClose`（必須）: `open`プロパティをfalseにするための処理を指定してください。
- `position`（任意）: DropdownMenuをボタンに対してどの位置に開くかを指定します。デフォルトは`leftTop`で、その他にも`topLeft`, `topCenter`, `topRight`, `rightTop`, `rightCenter`, `rightBottom`, `bottomLeft`, `bottomCenter`, `bottomRight`, `leftTop`, `leftCenter`, `leftBottom`を指定できます。
- `variant`（任意）: DropdownMenuの種類を指定します。デフォルトは`text`で、その他にも`textWithIcon`, `headWithIcon`, `headWithIconAndCaption`を指定できます。
- `id`（任意）: idを指定できます。

### DropdownMenu.ListItem
- `onClick`（必須）: 各要素をクリックした際に実行したい処理を指定してください。
- `icon`（任意）: DropdownMenu内にアイコンを表示したい場合は、指定できます。

## Text
テキストのみのDropdownMenuです

<Story of={DropdownMenuStories.Text} />

<Source
  code={`
const [open, setOpen] = useState(false);
const triggerRef = useRef<HTMLButtonElement>(null);
const onClick = () => {
  setOpen((prevOpen) => !prevOpen);
};
const onClose = () => {
  setOpen(false);
};
return (
  <>
    <DropdownMenu.Frame>
      <Button
        aria-controls="dropdown-menu-example1"
        aria-expanded={open}
        onClick={onClick}
        ref={triggerRef}
        size="medium"
        variant="neutral"
      >
        開く
      </Button>
      <DropdownMenu.List
        id="dropdown-menu-example1"
        onClose={onClose}
        open={open}
        position="rightTop"
        triggerRef={triggerRef}
        variant="text"
      >
        <DropdownMenu.ListItem {...actions('onClick')}>
          <DropdownMenu.Title>タイトルですよ</DropdownMenu.Title>
        </DropdownMenu.ListItem>
        <DropdownMenu.ListItem {...actions('onClick')}>
          <DropdownMenu.Title>タイトルですよ</DropdownMenu.Title>
        </DropdownMenu.ListItem>
      </DropdownMenu.List>
    </DropdownMenu.Frame>
  </>
);
  `}
/>

## Text With Icon（1line 44px）
各アイテムの高さが44pxのアイコン付きDropdownMenuです

<Story of={DropdownMenuStories.TextWithIcon} />

<Source
  code={`
const [open, setOpen] = useState(false);
const triggerRef = useRef<HTMLButtonElement>(null);
const onClick = () => {
  setOpen((prevOpen) => !prevOpen);
};
const onClose = () => {
  setOpen(false);
};
return (
  <>
    <DropdownMenu.Frame>
      <Button
        aria-controls="dropdown-menu-example2"
        aria-expanded={open}
        onClick={onClick}
        ref={triggerRef}
        size="medium"
        variant="neutral"
      >
        開く
      </Button>
      <DropdownMenu.List
        id="dropdown-menu-example2"
        onClose={onClose}
        open={open}
        position="rightTop"
        triggerRef={triggerRef}
        variant="textWithIcon"
      >
        <DropdownMenu.ListItem
          icon={<AllFill aria-hidden="true" />}
          {...actions('onClick')}
        >
          <DropdownMenu.Title>タイトルですよ</DropdownMenu.Title>
        </DropdownMenu.ListItem>
        <DropdownMenu.ListItem
          icon={<AllFill aria-hidden="true" />}
          {...actions('onClick')}
        >
          <DropdownMenu.Title>タイトルですよ</DropdownMenu.Title>
        </DropdownMenu.ListItem>
      </DropdownMenu.List>
    </DropdownMenu.Frame>
  </>
);
  `}
/>

## Head With Icon（1line 56px）
各アイテムの高さが56pxのアイコン付きDropdownMenuです

<Story of={DropdownMenuStories.HeadWithIcon} />

<Source
  code={`
const [open, setOpen] = useState(false);
const triggerRef = useRef<HTMLButtonElement>(null);
const onClick = () => {
  setOpen((prevOpen) => !prevOpen);
};
const onClose = () => {
  setOpen(false);
};
return (
  <>
    <DropdownMenu.Frame>
      <Button
        aria-controls="dropdown-menu-example3"
        aria-expanded={open}
        onClick={onClick}
        ref={triggerRef}
        size="medium"
        variant="neutral"
      >
        開く
      </Button>
      <DropdownMenu.List
        id="dropdown-menu-example3"
        onClose={onClose}
        open={open}
        position="rightTop"
        triggerRef={triggerRef}
        variant="headWithIcon"
      >
        <DropdownMenu.ListItem
          icon={<AllFill aria-hidden="true" />}
          {...actions('onClick')}
        >
          <DropdownMenu.Title>タイトルですよ</DropdownMenu.Title>
        </DropdownMenu.ListItem>
        <DropdownMenu.ListItem
          icon={<AllFill aria-hidden="true" />}
          {...actions('onClick')}
        >
          <DropdownMenu.Title>タイトルですよ</DropdownMenu.Title>
        </DropdownMenu.ListItem>
      </DropdownMenu.List>
    </DropdownMenu.Frame>
  </>
);
  `}
/>

## Head With Icon And Caption
アイコンとキャプション付きDropdownMenuです

<Story of={DropdownMenuStories.HeadWithIconAndCaption} />

<Source
  code={`
const [open, setOpen] = useState(false);
const triggerRef = useRef<HTMLButtonElement>(null);
const onClick = () => {
  setOpen((prevOpen) => !prevOpen);
};
const onClose = () => {
  setOpen(false);
};
return (
  <>
    <DropdownMenu.Frame>
      <Button
        aria-controls="dropdown-menu-example4"
        aria-expanded={open}
        onClick={onClick}
        ref={triggerRef}
        size="medium"
        variant="neutral"
      >
        開く
      </Button>
      <DropdownMenu.List
        id="dropdown-menu-example4"
        onClose={onClose}
        open={open}
        position="rightTop"
        triggerRef={triggerRef}
        variant="headWithIconAndCaption"
      >
        <DropdownMenu.ListItem
          icon={<AllFill aria-hidden="true" />}
          {...actions('onClick')}
        >
          <DropdownMenu.Title>タイトルですよ</DropdownMenu.Title>
          <DropdownMenu.Caption>キャプションですよ</DropdownMenu.Caption>
        </DropdownMenu.ListItem>
        <DropdownMenu.ListItem
          icon={<AllFill aria-hidden="true" />}
          {...actions('onClick')}
        >
          <DropdownMenu.Title>タイトルですよ</DropdownMenu.Title>
          <DropdownMenu.Caption>キャプションですよ</DropdownMenu.Caption>
        </DropdownMenu.ListItem>
      </DropdownMenu.List>
    </DropdownMenu.Frame>
  </>
);
  `}
/>

## Position
positionプロパティのバリエーション確認用です

デフォルトはleftTopで、その他にもtopLeft, topCenter, topRight, rightTop, rightCenter, rightBottom, bottomLeft, bottomCenter, bottomRight, leftTop, leftCenter, leftBottomを指定できます

<Story of={DropdownMenuStories.Position} />

## Baseline

Widely available

