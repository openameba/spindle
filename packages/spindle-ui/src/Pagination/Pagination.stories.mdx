import { Description, Meta, Story, Source } from '@storybook/addon-docs/blocks';
import { actions } from '@storybook/addon-actions';
import { Pagination } from './Pagination';

# Pagination

<Meta title="Pagination" component={Pagination} />

![stability-unstable](https://img.shields.io/badge/stability-unstable-yellow.svg)

<Source
  language="javascript"
  code={`import { Pagination } from '@openameba/spindle-ui'`}
/>

<Source
  language="css"
  code={`@import './node_modules/@openameba/spindle-ui/Pagination.css'`}
/>

<Source
  language="html"
  code={`<link rel="stylesheet" href="https://unpkg.com/@openameba/spindle-ui/Pagination.css">`}
/>

<Description>Paginationはページの移動を目的として利用します。</Description>

<Description>
  ページの前後に移動することができます。
</Description>

<Description>デフォルトではアンカー要素を使用します。</Description>

<Description>
  `createUrl`に関数を渡すことでURLを任意の形で生成することが可能です。
</Description>

## 指定できるプロパティ

<Description>
  - `current`(必須): 現在のページ数を指定してください。
</Description>
<Description>
  - `total`(必須): 総ページ数を指定してください。
</Description>
<Description>
  - `showCount`(任意): ページのカウントを表示したい場合は、指定することができます。デフォルト値はfalseです。
</Description>
<Description>
  - `showPrevNext`(任意): 「前へ」「次へ」アイコンを表示したい場合は、指定することができます。デフォルト値はtrueです。
</Description>
<Description>
  - `showFirstLast`(任意): 「最初へ」「最後へ」アイコンを表示したい場合は、指定することができます。デフォルト値はfalseです。
</Description>
<Description>
  - `onPageChange`(必須): リンクをクリック後に処理をしたい場合に利用することができます。
</Description>
<Description>
  - `createUrl`(必須): リンクのhrefとなる値を指定してください。
</Description>

## レスポンシブデザイン

<Description>Paginationは画面幅によりレイアウトが変化します。</Description>

- showPrevNext
- showFirstLast

<Description>上記、オプショナルなプロパティの存在有無に限らず「ページの前後」「ページの最初と最後」への移動が可能となります。</Description>

<Description>例えば、showFirstLastがfalseの場合は最初と最後をページ番号で担保します。</Description>

### showPrevNextがtrueの場合

<Description>現在のページ数に対してその前後に値するページ番号がブレイクポイント（414px以下）により非表示になります。</Description>

<Description>例えば、1・2・3（current）・4・5とした場合、2と4が非表示になります。</Description>

### 総ページ数が5件以上の場合

- currentが2の場合はcurrentに対して前のページ番号のみが非表示
- currentが3の場合はcurrentに対して次のページ番号のみが非表示

<Description>となります。</Description>

export const url = '/detail/CURRENT.html';
export const pageNumber = 1;

## Normal

<Preview withSource="open">
  <Story name="Normal">
    <Pagination
      total={5}
      current={3}
      showCount={true}
      showPrevNext={true}
      showFirstLast={true}
      createUrl={(pageNumber) => `/detail/${pageNumber}.html`}
      {...actions('onClick')}
    />
  </Story>
</Preview>

<Source
  code={'<Pagination url="/article/page-PAGE_NUMBER.html" total={5} current={3} showCount={true} showPrevNext={true} showFirstLast={true} createUrl={(pageNumber) => `/detail/${pageNumber}.html`} />'}
/>

## current 1 total 1

<Preview withSource="open">
  <Story name="current 1 total 1">
    <Pagination
      total={1}
      current={1}
      showCount={true}
      showPrevNext={true}
      showFirstLast={false}
      createUrl={(pageNumber) => `/detail/${pageNumber}.html`}
      {...actions('onClick')}
    />
  </Story>
</Preview>

<Source
  code={'<Pagination total={1} current={1} showCount={true} showPrevNext={true} showFirstLast={true} createUrl={(pageNumber) => `/detail/${pageNumber}.html`} />'}
/>

## current 2 total 2

<Preview withSource="open">
  <Story name="current 2 total 2">
    <Pagination
      total={2}
      current={2}
      showCount={true}
      showPrevNext={true}
      showFirstLast={false}
      createUrl={(pageNumber) => `/detail/${pageNumber}.html`}
      {...actions('onClick')}
    />
  </Story>
</Preview>

<Source
  code={'<Pagination total={2} current={2} showCount={true} showPrevNext={true} showFirstLast={true} createUrl={(pageNumber) => `/detail/${pageNumber}.html`} />'}
/>

## current 2 total 3

<Preview withSource="open">
  <Story name="current 2 total 3">
    <Pagination
      total={3}
      current={2}
      showCount={true}
      showPrevNext={true}
      showFirstLast={false}
      createUrl={(pageNumber) => `/detail/${pageNumber}.html`}
      {...actions('onClick')}
    />
  </Story>
</Preview>

<Source
  code={'<Pagination total={3} current={2} showCount={true} showPrevNext={true} showFirstLast={true} createUrl={(pageNumber) => `/detail/${pageNumber}.html`} />'}
/>

## current 2 total 4

<Preview withSource="open">
  <Story name="current 2 total 4">
    <Pagination
      total={4}
      current={2}
      showCount={true}
      showPrevNext={true}
      showFirstLast={false}
      createUrl={(pageNumber) => `/detail/${pageNumber}.html`}
      {...actions('onClick')}
    />
  </Story>
</Preview>

<Source
  code={'<Pagination total={4} current={2} showCount={true} showPrevNext={true} showFirstLast={true} createUrl={(pageNumber) => `/detail/${pageNumber}.html`} />'}
/>

## current 1 total 20

<Preview withSource="open">
  <Story name="current 1 total 20">
    <Pagination
      total={20}
      current={1}
      showCount={true}
      showPrevNext={true}
      showFirstLast={true}
      createUrl={(pageNumber) => `/detail/${pageNumber}.html`}
      {...actions('onClick')}
    />
  </Story>
</Preview>

<Source
  code={'<Pagination total={20} current={1} showCount={true} showPrevNext={true} showFirstLast={true} createUrl={(pageNumber) => `/detail/${pageNumber}.html`} />'}
/>

## current 2 total 20

<Preview withSource="open">
  <Story name="current 2 total 20">
    <Pagination
      total={20}
      current={2}
      showCount={true}
      showPrevNext={true}
      showFirstLast={true}
      createUrl={(pageNumber) => `/detail/${pageNumber}.html`}
      {...actions('onClick')}
    />
  </Story>
</Preview>

<Source
  code={'<Pagination total={20} current={2} showCount={true} showPrevNext={true} showFirstLast={true} createUrl={(pageNumber) => `/detail/${pageNumber}.html`} />'}
/>

## current 3 total 20

<Preview withSource="open">
  <Story name="current 3 total 20">
    <Pagination
      total={20}
      current={3}
      showCount={true}
      showPrevNext={true}
      showFirstLast={true}
      createUrl={(pageNumber) => `/detail/${pageNumber}.html`}
      {...actions('onClick')}
    />
  </Story>
</Preview>

<Source
  code={'<Pagination total={20} current={3} showCount={true} showPrevNext={true} showFirstLast={true} createUrl={(pageNumber) => `/detail/${pageNumber}.html`} />'}
/>

## current 4 total 20

<Preview withSource="open">
  <Story name="current 4 total 20">
    <Pagination
      total={20}
      current={4}
      showCount={true}
      showPrevNext={true}
      showFirstLast={true}
      createUrl={(pageNumber) => `/detail/${pageNumber}.html`}
      {...actions('onClick')}
    />
  </Story>
</Preview>

<Source
  code={'<Pagination total={20} current={4} showCount={true} showPrevNext={true} showFirstLast={true} createUrl={(pageNumber) => `/detail/${pageNumber}.html`} />'}
/>

## current 8 total 20

<Preview withSource="open">
  <Story name="current 8 total 20">
    <Pagination
      total={20}
      current={8}
      showCount={true}
      showPrevNext={true}
      showFirstLast={true}
      createUrl={(pageNumber) => `/detail/${pageNumber}.html`}
      {...actions('onClick')}
    />
  </Story>
</Preview>

<Source
  code={'<Pagination total={20} current={8} showCount={true} showPrevNext={true} showFirstLast={true} createUrl={(pageNumber) => `/detail/${pageNumber}.html`} />'}
/>

## current 900 total 999

<Preview withSource="open">
  <Story name="current 900 total 999">
    <Pagination
      total={999}
      current={900}
      showCount={true}
      showPrevNext={true}
      showFirstLast={true}
      createUrl={(pageNumber) => `/detail/${pageNumber}.html`}
      {...actions('onClick')}
    />
  </Story>
</Preview>

<Source
  code={'<Pagination total={999} current={900} showCount={true} showPrevNext={true} showFirstLast={true} createUrl={(pageNumber) => `/detail/${pageNumber}.html`} />'}
/>

## current 10000 total 20000

<Description>
  上限は設けていないためページ数の値によってリンクの横幅が広がるレイアウトとなっています。
</Description>

<Preview withSource="open">
  <Story name="current 10000 total 20000">
    <Pagination
      total={20000}
      current={10000}
      showCount={true}
      showPrevNext={true}
      showFirstLast={true}
      createUrl={(pageNumber) => `/detail/${pageNumber}.html`}
      {...actions('onClick')}
    />
  </Story>
</Preview>

<Source
  code={'<Pagination total={20000} current={10000} showCount={true} showPrevNext={true} showFirstLast={true} createUrl={(pageNumber) => `/detail/${pageNumber}.html`} />'}
/>

## showFirstLast props false

<Description>
  `showFirstLast`プロパティは`false`にすることで、「最初へ」と「最後へ」アイコンを非表示にできます。
</Description>

<Description>
  その場合、ページ番号にて前後と最初と最後のリンクを担保します。
</Description>

<Preview withSource="open">
  <Story name="showFirstLast props false">
    <Pagination
      total={20}
      current={8}
      showCount={true}
      showPrevNext={true}
      showFirstLast={false}
      createUrl={(pageNumber) => `/detail/${pageNumber}.html`}
      {...actions('onClick')}
    />
  </Story>
</Preview>

<Source
  code={'<Pagination total={20} current={8} showCount={true} showPrevNext={false} showFirstLast={false} createUrl={(pageNumber) => `/detail/${pageNumber}.html`} />'}
/>

## showPrevNext props false

<Description>
  `showPrevNext`プロパティは`false`にすることで、「前へ」と「次へ」アイコンを非表示にできます。
</Description>

<Description>
  その場合、ページ番号にて前後と最初と最後のリンクを担保します。
</Description>

<Preview withSource="open">
  <Story name="showPrevNext props false">
    <Pagination
      total={20}
      current={8}
      showCount={true}
      showPrevNext={false}
      showFirstLast={true}
      createUrl={(pageNumber) => `/detail/${pageNumber}.html`}
      {...actions('onClick')}
    />
  </Story>
</Preview>

<Source
  code={'<Pagination total={20} current={8} showCount={true} showPrevNext={false} showFirstLast={false} createUrl={(pageNumber) => `/detail/${pageNumber}.html`} />'}
/>

## showPrevNext showFirstLast props false

<Description>
  `showPrevNext`と`showFirstLast`プロパティは`false`にすることで、全てのアイコンを非表示にできます。
</Description>

<Description>
  その場合、ページ番号にて前後と最初と最後のリンクを担保します。
</Description>

<Preview withSource="open">
  <Story name="showPrevNext showFirstLast props false">
    <Pagination
      total={20}
      current={8}
      showCount={true}
      showPrevNext={false}
      showFirstLast={false}
      createUrl={(pageNumber) => `/detail/${pageNumber}.html`}
      {...actions('onClick')}
    />
  </Story>
</Preview>

<Source
  code={'<Pagination total={20} current={8} showCount={true} showPrevNext={false} showFirstLast={false} createUrl={(pageNumber) => `/detail/${pageNumber}.html`} />'}
/>

## create url function

<Preview withSource="open">
  <Story name="create url function">
    <Pagination
      total={20}
      current={8}
      showCount={true}
      showPrevNext={true}
      showFirstLast={true}
      createUrl={(pageNumber) => `/detail/${pageNumber}.html`}
      {...actions('onClick')}
    />
  </Story>
</Preview>

<Source
  code={'<Pagination total={20} current={8} showCount={true} showPrevNext={false} showFirstLast={false} createUrl={(pageNumber) => `/detail/${pageNumber}.html`} />'}
/>

## リンク動作のカスタマイズ

<Description>
  各サービスでルーティングを利用したい場合は、onPageChangeの第一引数にあるeventを利用してください。
</Description>

<Source
  code={`function Component({children, url = '', external, ref, ...rest}) {
    const handleClick = (event, pageNumber) => {
      event.preventDefault();
      router.push(pageNumber);
    };
    return (
      <Pagination onPageChange={(event, pageNumber) => { handleClick(event, pageNumber); }} />
    );
  }
`}
/>
